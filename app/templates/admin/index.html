{% extends "layout.html" %}
{% block title %}Административная панель{% endblock %}

{% block additional_styles %}
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #CCCCFF; /* Лавандовый фон */
  }
  
  .admin-container {
    width: 100%;
    max-width: 1200px;
    margin: 120px auto 30px;  /* Увеличен отступ сверху для учета фиксированного заголовка */
    padding: 20px;
  }
  
  /* Навигационные вкладки */
  .admin-nav {
    display: flex;
    border-bottom: 1px solid #9400D3;
    margin-bottom: 20px;
  }
  
  .admin-nav a {
    padding: 10px 20px;
    text-decoration: none;
    color: black;
    font-weight: bold;
    margin-right: 10px;
  }
  
  .admin-nav a.active {
    border-bottom: 3px solid #9400D3;
    color: #9400D3;
  }
  
  /* Кнопка возврата */
  .back-button {
    display: inline-block;
    border: 2px solid #9400D3;
    color: #9400D3;
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: bold;
    margin-bottom: 20px;
  }
  
  .back-button:hover {
    background-color: #9400D3;
    color: white;
  }
  
  /* Заголовки */
  h2 {
    margin: 20px 0;
    font-size: 24px;
    color: #333;
  }
  
  /* Блоки статистики */
  .stat-card {
    border-radius: 4px;
    padding: 30px;
    text-align: center;
    color: white;
    margin-bottom: 20px;
  }
  
  .stat-card.green {
    background-color: #2E8B57; /* Зеленый */
  }
  
  .stat-card.blue {
    background-color: #1E90FF; /* Синий */
  }
  
  .stat-card h1 {
    font-size: 48px;
    margin: 10px 0;
  }
  
  /* Таблицы */
  .admin-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0 30px 0;
  }
  
  .admin-table th, .admin-table td {
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
  }
  
  .admin-table th {
    background-color: #F8F8FF; /* Очень светлый лавандовый */
    color: #333;
  }
  
  .admin-table tr:nth-child(odd) {
    background-color: #DADAFF; /* Более темный лавандовый */
  }
  
  .admin-table tr:nth-child(even) {
    background-color: #E8E8FF; /* Светлый лавандовый */
  }
  
  /* Формы */
  .admin-form {
    background-color: #F8F8FF;
    padding: 20px;
    border-radius: 4px;
    margin-bottom: 30px;
  }
  
  .form-group {
    margin-bottom: 15px;
  }
  
  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }
  
  .form-control {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  
  /* Кнопки */
  .btn-primary {
    background-color: #9400D3;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .btn-sm {
    padding: 5px 10px;
    font-size: 12px;
  }
  
  /* Секции */
  .admin-section {
    margin-bottom: 40px;
  }
</style>
{% endblock %}

{% block content %}
<div class="admin-container">
  <!-- Навигационные вкладки - это ключевая часть, которая отсутствовала -->
  <div class="admin-nav">
    <a href="/admin" {% if active_tab == 'stats' or not active_tab %}class="active"{% endif %}>Статистика</a>
    <a href="/admin/users" {% if active_tab == 'users' %}class="active"{% endif %}>Пользователи</a>
    <a href="/admin/dictionary" {% if active_tab == 'dictionary' %}class="active"{% endif %}>Словарь</a>
    <a href="/admin/settings" {% if active_tab == 'settings' %}class="active"{% endif %}>Настройки</a>
  </div>
  
  <!-- Кнопка возврата -->
  <a href="/" class="back-button">Вернуться на сайт</a>
  
  <!-- Статистика приложения -->
  <div class="admin-section">
    <h2>Статистика приложения</h2>
    
    <!-- Зеленый блок статистики -->
    <div class="stat-card green">
      <h1>{{ words|length }}</h1>
      <div>Всего слов</div>
    </div>
    
    <!-- Синий блок статистики -->
    <div class="stat-card blue">
      <h1>{{ games_count }}</h1>
      <div>Игр сыграно</div>
    </div>
    
    <!-- Таблица распределения -->
    <h3>Распределение слов по категориям</h3>
    <table class="admin-table">
      <thead>
        <tr>
          <th></th>
          <th>Легкие</th>
          <th>Средние</th>
          <th>Сложные</th>
          <th>Всего</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Анаграммы</td>
          <td>{{ words_stats.scramble.easy }}</td>
          <td>{{ words_stats.scramble.medium }}</td>
          <td>{{ words_stats.scramble.hard }}</td>
          <td>{{ words_stats.scramble.total }}</td>
        </tr>
        <tr>
          <td>Сопоставление</td>
          <td>{{ words_stats.matching.easy }}</td>
          <td>{{ words_stats.matching.medium }}</td>
          <td>{{ words_stats.matching.hard }}</td>
          <td>{{ words_stats.matching.total }}</td>
        </tr>
        <tr>
          <td>Написание слов</td>
          <td>{{ words_stats.typing.easy }}</td>
          <td>{{ words_stats.typing.medium }}</td>
          <td>{{ words_stats.typing.hard }}</td>
          <td>{{ words_stats.typing.total }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}